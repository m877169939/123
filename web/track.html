<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>TrackProduct</title>
	<style>
		#map{
		height:400px;
		width:100%;
		}
	</style>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>Track</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CVarela+Round" rel="stylesheet">

	<!-- Bootstrap -->
	<link type="text/css" rel="stylesheet" href="../library/bootstrap-3.3.7-dist/css/bootstrap.min.css" />

	<!-- Owl Carousel -->
	<link type="text/css" rel="stylesheet" href="./assets/css/owl.carousel.css" />
	<link type="text/css" rel="stylesheet" href="./assets/css/owl.theme.default.css" />

	<!-- Magnific Popup -->
	<link type="text/css" rel="stylesheet" href="./assets/css/magnific-popup.css" />

	<!-- Font Awesome Icon -->
	<link rel="stylesheet" href="./assets/css/font-awesome.min.css">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="./assets/css/style.css" />
	<script type="text/javascript" src="assets/js/llqrcode.js"></script>
	<script type="text/javascript" src="assets/js/webqr.js"></script>
	<!-- <script type="text/javascript" src="../node_modules/jquery/dist/jquery.subwayMap-0.5.0.js"></script> -->
    <!-- <script type="text/javascript" src="./assets/js/ProductFactoryABI.js"></script> -->

	<script type="text/javascript" src="./assets/js/simple-excel.js"></script> 
    <!-- <script type="text/javascript" src="./Bytescode/ProductBytecode.js"></script>
    <script type="text/javascript" src="./Bytescode/ProductFactoryBytecode.js"></script> -->
    

	<!-- Custom src -->
	<script src="../node_modules/jquery/dist/jquery.min.js"></script>
		<script src="assets/js/subLibrary/jquery.dropotron.min.js"></script>
	<script src="assets/js/subLibrary/jquery.scrolly.min.js"></script>
    <script src="assets/js/subLibrary/jquery.scrollgress.min.js"></script>
	<script src="assets/js/subLibrary/jquery.scrollgress.min.js"></script>
	

	<!-- <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>	 -->
	<script src="../node_modules/web3/dist/web3.min.js"></script>

	<script src="assets/js/data.js"></script>
	<script src="assets/js/truffle-contract.js"></script>

	<script src="assets/js/track.js"></script>

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script> 
	<script type="text/javascript" src="./assets/js/jsonify.js"></script>
	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body>

	<!-- Header -->
	<header>

		<!-- Nav -->
		<nav id="nav" class="navbar">
			<div class="container">

				<div class="navbar-header">
					<!-- Logo -->
					<div class="navbar-brand">
						<a href="../index.html">
							<img class="logo" src="assets/img/logo.png" alt="logo">
						</a>
					</div>
					<!-- /Logo -->

					<!-- Collapse nav button -->
					<div class="nav-collapse">
						<span></span>
					</div>
					<!-- /Collapse nav button -->
				</div>

				<!--  Main navigation  -->
				<ul class="main-nav nav navbar-nav navbar-right">
					<li><a href="../index.html#home">Home</a></li>
					
					<li><a href="Services.html?">Services</a></li>
					<li><a href="#contact">Contact</a></li>
					<button id="logOff"  class="main-btn" onclick="logout();">logOut</button>
				</ul>
				<!-- /Main navigation -->


			</div>
		</nav>
		<!-- /Nav -->

		<!-- header wrapper -->
		<div class="header-wrapper sm-padding bg-grey">
			<div class="container">
				<h2>Track Your Product</h2>
				<div class = "loginInfo"></div>
				<h3 id="accountAddress" ></h3>
				<!-- <ul class="breadcrumb">
					<li class="breadcrumb-item"><a href="../index.html">Home</a></li>
					<li class="breadcrumb-item"><a href="../index.html#blog">Blog</a></li>
					<li class="breadcrumb-item active">Single Post</li>
				</ul> -->
			</div>
		</div>
		<!-- /header wrapper -->
		<script type="text/javascript">
		
			function logout() {
			   alert ("You have successfully logged out!");
			 //   document.write ("This is a warning message!");
			}	 
	  </script>

	</header>
	<!-- /Header -->

	<!-- Blog -->
	<div id="blog" class="section md-padding">
		

		<!-- Container -->
		<div class="container">

				
			
			<!-- Row -->
			<div class="row">

				<!-- Main -->
				<main id="main" class="col-md-9">
					

						<div class="Input Information">
								<h3 class="title">track your product</h3>
								<form onsubmit="return false;" id="myForm">
									<input class="input" id="productAddress" type="text" placeholder="please entrer your productAddress">
									<button id="getAction"  class="main-btn">getAction</button>
									<button id="getAllProductInformations"  class="main-btn">Track all information by product address</button>
									
									<button id="getEvent"  class="main-btn">Get prodcut information by address</button>
									<button id="getproduct"  class="main-btn">Get your personal productList</button>
									
									<!-- <h3 id="ProductsName"></h3>
									<h3 id="ProductsInfo"></h3>
									<h4 id="insTrans"></h4> -->
									

								</form>
								

								<div class = "table"></div>
								
								
								
								
						</div>


					<div class="info">
						<!-- <div class="blog-img">
							<img class="img-responsive" src="assets/img/blog-post.jpg" alt="">
						</div> -->
						<p id="myLog"></p>

						<!-- blog author -->
						<div class="load your picture">
							<div class="media">
								<div class="media-left">
									<!-- <img class="media-object" src="assets/img/author.jpg" alt=""> -->
								</div>
								<div class="media-body">
									<div class="media-heading">
										<h3> Your product information is here</h3>
	
										<div class = "mydatabase"></div>
										<div class = "productInformation1"></div>
										<div class = "parentInfo"></div>
										
									</div>
									<p>Please input your product address</p>
								</div>
							</div>
						</div>
						<!-- /blog author -->


					</div>

					<h2>Tracking Map</h2>
					<div id="map"></div>
					<div class = "markers"></div>
					<script>
					  function initMap(){
						// Map options
						var options = {
						  zoom:1,
						  center:{lat:42.3601,lng:-71.0589}
						}
				  
						// New map
						var map = new google.maps.Map(document.getElementById('map'), options);
				  
						// Listen for click on map
						google.maps.event.addListener(map, 'click', function(event){
						  // Add marker
						  addMarker({coords:event.latLng});
						});
				  
						/*
						// Add marker
						var marker = new google.maps.Marker({
						  position:{lat:42.4668,lng:-70.9495},
						  map:map,
						  icon:'https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png'
						});
				  
						var infoWindow = new google.maps.InfoWindow({
						  content:'<h1>Lynn MA</h1>'
						});
				  
						marker.addListener('click', function(){
						  infoWindow.open(map, marker);
						});
						*/
					
            
						// Array of markers
						//var markers;
						 var markers =localStorage.markers;
						 console.log("markers			"+markers)
						// console.log("localStorage.markers	"+localStorage.markers);
						var markers =JSON.parse(localStorage.getItem("markers") || "[]");
						
						
						for(var i = 0;i < markers.length;i++){
						  // Add marker
						  addMarker(markers[i]);
						}
				  
						// Add Marker Function
						function addMarker(props){
							var lat1= props.coords.lat;
							 console.log("lat1	"+lat1);
							var lat2=parseFloat(lat1);
							var lng1= props.coords.lng;
							var lng2=parseFloat(lng1);
							
						  var marker = new google.maps.Marker({
							position:{lat:lat2,lng:lng2},
							map:map,
							//icon:props.iconImage
						  });
				  
						  // Check for customicon
						  if(props.iconImage){
							// Set icon image
							marker.setIcon(props.iconImage);
						  }
				  
						  // Check content
						  if(props.content){
							var infoWindow = new google.maps.InfoWindow({
							  content:props.content
							});
				  
							marker.addListener('click', function(){
							  infoWindow.open(map, marker);
							});
						  }
						}
					  }
					</script>
					<script async defer
					  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCypYpdHA5BGp-cybRznoExQAaEyYwiOmU&callback=initMap">
					  </script>

				
				</main>
				<!-- /Main -->


				<!-- Aside -->
				<aside id="aside" class="col-md-3">

					<!-- Search -->
					<div class="widget">
						<div class="widget-search">
							<input class="search-input" type="text" placeholder="search">
							<button class="search-btn" type="button"><i class="fa fa-search"></i></button>
						</div>
					</div>
					<!-- /Search -->

					<!-- Recent Create -->
					<div class="widget">
						<h3 class="title">Recent Create</h3>
						<div class="widget-category">
							<a href="#">January<span>(7)</span></a>
							<a href="#">February<span>(142)</span></a>
							<a href="#">March<span>(74)</span></a>
						</div>
					</div>
					<!-- /Category -->

					<!-- Posts sidebar -->
					<div class="widget">
						<h3 class="title">Populare Buyer</h3>

						<!-- single post -->
						<div class="widget-post">
							<a href="#">
								<img src="assets/img/people1.png" alt=""> Buyer 1
							</a>
							
						</div>
						<!-- /single post -->

						<!-- single post -->
						<div class="widget-post">
							<a href="#">
								<img src="assets/img/people2.png" alt=""> Buyer 2
							</a>
							
						</div>
						<!-- /single post -->


						<!-- single post -->
						<div class="widget-post">
							<a href="#">
								<img src="assets/img/people3.png" alt=""> Buyer 3
							</a>
							
						</div>
						<!-- /single post -->

					</div>
					<!-- /Posts sidebar -->

					<!-- Tags -->
					<div class="widget">
						<h3 class="title">Tags</h3>
						<div class="widget-tags">
							<a href="#">Web</a>
							<a href="#">Blockchain</a>
							
						</div>
					</div>
					<!-- /Tags -->

				</aside>
				<!-- /Aside -->

			</div>
			<!-- /Row -->

		</div>
		<!-- /Container -->

	</div>
	<!-- /Blog -->

	<!-- Footer -->
	<footer id="footer" class="sm-padding bg-dark">

		<!-- Container -->
		<div class="container">

			<!-- Row -->
			<div class="row">

				<div class="col-md-12">

					<!-- footer logo -->
					<div class="footer-logo">
						<a href="../index.html"><img src="assets/img/logo-alt.png" alt="logo"></a>
					</div>
					<!-- /footer logo -->

					<!-- footer follow -->
					<ul class="footer-follow">
						<li><a href="#"><i class="fa fa-facebook"></i></a></li>
						<li><a href="#"><i class="fa fa-twitter"></i></a></li>
						<li><a href="#"><i class="fa fa-google-plus"></i></a></li>
						<li><a href="#"><i class="fa fa-instagram"></i></a></li>
						<li><a href="#"><i class="fa fa-linkedin"></i></a></li>
						<li><a href="#"><i class="fa fa-youtube"></i></a></li>
					</ul>
					<!-- /footer follow -->


				</div>

			</div>
			<!-- /Row -->

		</div>
		<!-- /Container -->

	</footer>
	<!-- /Footer -->

	<!-- Back to top -->
	<div id="back-to-top"></div>
	<!-- /Back to top -->

	<!-- Preloader -->
	<div id="preloader">
		<div class="preloader">
			<span></span>
			<span></span>
			<span></span>
			<span></span>
		</div>
	</div>
	<!-- /Preloader -->

	<!-- jQuery Plugins -->
	<script type="text/javascript" src="assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="assets/js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="assets/js/jquery.magnific-popup.js"></script>
	<script type="text/javascript" src="assets/js/main.js"></script>

</body>

</html>
